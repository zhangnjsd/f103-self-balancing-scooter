# 简易平衡车实现

## 简介

本平衡车采用了 STM32F103C6T6 作为主控芯片，结合 MPU6050 传感器实现自平衡功能。通过 PID 控制算法，平衡车能够在不同地形下保持稳定，并响应用户的控制指令。

## 引脚分配

![引脚分配图](https://cdn.jsdelivr.net/gh/zhangnjsd/img-jsdelivr-go/f103junc/p1r.png)

- **USART1**: 用于调试，波特率 115200。
- **I2C1**: 连接 MPU6050 传感器。
- **TIM1**: 用于电机 PWM 控制。
  - **CH1 (PA8)**: 左电机 PWM 输出。
  - **CH2 (PA9)**: 右电机 PWM 输出。
- **TIM2**: 用于左轮速度测量。
  - **CH1 (PA0)**: 左轮速度输入。
  - **CH2 (PA1)**: 右轮速度输入。
- **TIM3**: 用于右轮速度测量。
  - **CH1 (PA6)**: 左轮速度输入。
  - **CH2 (PA7)**: 右轮速度输入。
- **GPIO (PA4)**: STDBY 引脚，用于控制电机的启停。
- **GPIO (PB12)**: AIN 1（左）。
- **GPIO (PB13)**: AIN 2（左）。
- **GPIO (PB14)**: BIN 1（右）。
- **GPIO (PB15)**: BIN 2（右）。

## 实现理论

> *In progress...*

## 实现过程反馈

> *In progress...*

## 未完成的一些构思

- **[ ]行进：**即使现在平衡车可以平衡，但没有实现前进和后退的功能。不过预留了速度环来实现这个功能。
- **[ ]蓝牙控制：**可将 ESP32C6 广播蓝牙与 STM32F103C6T6 通过 CAN 通信实现远程控制平衡车的功能。
- **[ ]PID调优：**即使可以稳定平衡车，但 PID 参数还没有经过调优，所以会发生抖动。
- **[ ]电池管理：**目前没有实现电池电量监测和管理功能，未来可以添加相关模块来提高系统的可靠性和安全性。
